<div class="container">
  <h1>KORREKTUR</h1>
  
  <div class="divider"></div>
  <br>

  <div class="row">
    <div class="col s6">
      <label>Gruppen</label>
      <div class="switch">
        <label>
          Aus
          <input type="checkbox" [checked]="groupview" (change)="groupview = !groupview">
          <span class="lever"></span>
          An
        </label>
      </div>
    </div>

    <div class="col s6 right-align">
      <label>Korrekturrichtung</label>
      <div class="switch">
        <label>
          Ein Student
          <input type="checkbox" [checked]="correctByTasks" (change)="setCorrectionMode()">
          <span class="lever"></span>
          Eine Aufgabe
        </label>
      </div>
    </div>
  </div>
  <br>

  <div class="divider"></div>
  <br>

  <div class="row center-align" style="margin-top: 40px">
    <p *ngIf="!correctByTasks">
      <span style="color:#C2185B">{{current_student.name}}, {{current_student.vorname}}</span> / {{current_task.name}}</p>
    <p *ngIf="correctByTasks">{{current_student.name}}, {{current_student.vorname}} /
      <span style="color:#C2185B">{{current_task.name}}</span>
    </p>
  </div>

  <div class="row">
    <div class="col s4">
      <i class="material-icons left card-panel" style="font-size: 40px" (click)="setCurrentTask('previous')" *ngIf="show_previous">chevron_left</i>
    </div>
    <div class="col s4">
      <div class="row">
        <div class="col s8">
          <input class="right" placeholder="0" type="number" [(ngModel)]="current_correction.erreichte_punkte" [attr.max]="current_task.max_punkt"
            min="0" lass="validate" (keyup)="saveCorrection()" (mouseup)="saveCorrection()">
        </div>
        <div class="col s4" style="margin-top: 5px">
          <span class="left">
            <h5>/{{current_task.max_punkt}}</h5>
          </span>
        </div>
      </div>
    </div>
    <div class="col s4">
      <i class="material-icons right card-panel" style="font-size: 40px" (click)="setCurrentTask('next')" *ngIf="show_next">chevron_right</i>
    </div>
  </div>

  <div class="row" *ngIf="groupview">
    <p>Gruppenmitglieder</p>
  </div>

  <div class="row">
    <div class="col s12">
      <div class="card-panel white" (click)="open_1 = !open_1">
        <span>Beschreibung</span>
        <i class="material-icons right" *ngIf="!open_1">keyboard_arrow_down</i>
        <i class="material-icons right" *ngIf="open_1">keyboard_arrow_up</i>
      </div>
      <div *ngIf="open_1" class="card-panel grey lighten-2">
        <span class="black-text">{{current_task.beschreibung}}
        </span>
      </div>
    </div>

    <div class="col s12">
      <div class="card-panel white" (click)="open_2 = !open_2">
        <span>Bewertungshinweis</span>
        <i class="material-icons right" *ngIf="!open_2">keyboard_arrow_down</i>
        <i class="material-icons right" *ngIf="open_2">keyboard_arrow_up</i>
      </div>
      <div *ngIf="open_2" class="card-panel grey lighten-2">
        <span class="black-text">{{current_task.bewertungs_hinweis}}
        </span>
      </div>
    </div>

    <div class="col s12" *ngIf="current_task.comment_public">
      <div class="card-panel white" (click)="open_3 = !open_3">
        <span>Öffentlicher Kommentar</span>
        <i class="material-icons right" *ngIf="!open_3">keyboard_arrow_down</i>
        <i class="material-icons right" *ngIf="open_3">keyboard_arrow_up</i>
      </div>
      <div *ngIf="open_3" class="card-panel grey lighten-2" style="height:auto; overflow:auto;">
        <div class="input-field col s12">
          <textarea [(ngModel)]="current_correction.comment_public" class="materialize-textarea" placeholder="Öffentlicher Kommentar"
            (keyup)="saveCorrection()"></textarea>
        </div>
      </div>
    </div>

    <div class="col s12" *ngIf="current_task.comment_privat">
      <div class="card-panel white" (click)="open_4 = !open_4">
        <span>Privater Kommentar</span>
        <i class="material-icons right" *ngIf="!open_4">keyboard_arrow_down</i>
        <i class="material-icons right" *ngIf="open_4">keyboard_arrow_up</i>
      </div>
      <div *ngIf="open_4" class="card-panel grey lighten-2" style="height:auto; overflow:auto;">
        <div class="input-field col s12">
          <textarea [(ngModel)]="current_correction.comment_privat" class="materialize-textarea" placeholder="Privater Kommentar" (keyup)="saveCorrection()"></textarea>
        </div>
      </div>
    </div>

  </div>

</div>