<div class="container">
  <h1>Ergebnisse</h1>
  <hr class="hr_welcome">
  <br>


  <div class="row exports">
    <div ng-show="condition()">{{value2}}</div>

    <div class="col s2">
      <span>Downloads</span>
    </div>
    <div class="col 3">
      <a class="btn waves-effect waves-light pink darken-2" (click)="export('flexnow')">
        <i class="material-icons left">file_download</i> LSF </a>
    </div>
    <div class="col 3">
      <a class="btn waves-effect waves-light pink darken-2" (click)="export('grips')">
        <i class="material-icons left">file_download</i> GRIPS </a>
    </div>
    <div class="col 3">
      <a class="btn waves-effect waves-light pink darken-2" (click)="export('print')">
        <i class="material-icons left">print</i> PRINT </a>
    </div>
  </div>


  <!--http://materializecss.com/forms.html Autocomplete-->
  <div class="row">       
        
    <div class="col switch">
      <!--TODO: Diagramme sobald mehrere verfÃ¼gbar sind-->
      <span>Diagramm</span>
      <div class="switch">
        <label>
          Aus
          <input type="checkbox" (click)="switch_diagrams()">
          <span class="lever"></span>
          An
        </label>
      </div>
    </div>
  </div>
  <div class="diagrams" [hidden]="display_diagrams">
    <!-- http://tobiasahlin.com/blog/chartjs-charts-to-get-you-started/ -->
    <div class="row" style="margin-top: 40px">
      <h2 class="diagramm">Notenspiegel</h2>
      <canvas #barchart width="800" height="450"></canvas>
    </div>
    <!--
        <div class="row" style="margin-top: 40px">
            <h2 class="diagramm">Durchschnittlich erreichte Prozent pro Aufgabe</h2>
            <canvas id="polar-chart" width="800" height="450"></canvas>
        </div>

        <div class="row" style="margin-top: 40px">
            <h2 class="diagramm">Erreichte Prozent pro Aufgabe</h2>
            <canvas id="scatter-chart" width="800" height="450"></canvas>
        </div>-->
  </div>
  <div class="row" class="participants">
    <h2>Aufgaben vs. Teilnehmer</h2>
    <div class="input-field col s6">
      <i class="material-icons prefix">search</i>
      <input id="icon_prefix" type="text" class="validate" [(ngModel)]="searchValue">
      <label for="icon_prefix">Suche Studierende</label>
    </div>
    <table>
      <tr>
        <th>Mtrknr</th>
        <th>Nachname</th>
        <th>Vorname</th>
        <th>Note</th>
        <th *ngFor="let task of tasks; let i = index"> {{task.name}}</th>
      </tr>
      <tr *ngFor="let participant of (participants | searchStudent: searchValue); let i = index" [attr.id]="'element_' + i" [attr.style]="checkColorGrading('element_' + i, participant.grade)">
        <td>{{participant.name}}</td>
        <td>{{participant.vorname}}</td>
        <td class="number">{{participant.mtknr}}</td>
        <td class="number">{{participant.finish * 100}}%</td>
        <td class="number">{{participant.grade}}</td>
        <td *ngFor="let task of tasks; let i = index"> Note</td>
      </tr>
    </table>
  </div>
</div>

<div class="container">
        Informationen zu Farbeinstufungen:
        <div class="row">
          <div class="col l6 s12">
            <i class="material-icons red-text">view_agenda</i>
            Student ist durchgefallen (Note: {{grading_list[grading_list.length-1].note}})
          </div>
          <div class="col l6 s12">
            <i class="material-icons orange-text">view_agenda</i>Student an Grenze zum Durchfallen (Note: {{grading_list[grading_list.length-2].note}})
          </div>
        </div>
      </div>